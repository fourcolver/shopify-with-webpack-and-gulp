{% assign s = section.settings %}

{% if section.blocks.size > 0 %}
	<div id="pfCarousel" class="pf {{ section.blocks.size }}">
		{% for block in section.blocks %}
			{% assign b = block.settings %}
			<div class="pf__item">
				<div class="pf__content">
					<div class="pf__bg js-pf-bg" style="background-color: {{ s.pf_bg_color }};"></div>
					<div class="pf__img-wrap desktop-only ir" {% include 'h-intrinsic-ratio', image: b.pf_image_content %}>
						<img data-src="{{ b.pf_image_content | img_url: 'master' }}" class="lazyload pf__img" alt="" />
					</div>
					<div class="pf__img-wrap tablet-only ir" {% include 'h-intrinsic-ratio', image: b.pf_image_content_tablet %}>
						<img data-src="{{ b.pf_image_content_tablet | img_url: 'master' }}" class="lazyload pf__img" alt="" />
						<div class="pf__bg js-pf-bg" style="background-color: {{ s.pf_bg_color }};"></div>
					</div>
					<div class="pf__img-wrap phone-only ir" {% include 'h-intrinsic-ratio', image: b.pf_image_content_phone %}>
						<img data-src="{{ b.pf_image_content_phone | img_url: 'master' }}" class="lazyload pf__img" alt="" />
					</div>
					<div class="pf__text">
						<div class="pf__img-title">
							<img src="{{ b.pf_image_title | img_url: 'master' }}" />
						</div>
						<div class="pf__desc">
							{% if b.pf_subtitle != blank %}
								<h4 class="pf__title">{{ b.pf_subtitle }}</h4>
							{% endif %}
							<p class="pf__desc-long">
								{{ b.pf_desc }}
							</p>
							<div class="pf__actions">
								<button type="button" class="phone-only js-carousel-prev btn-link pf__btn-carousel pf__btn-carousel--prev">
									<span class="sr-only">Previous</span>
									<i class="icon icon--arrow-left"></i>
								</button>
								{% if b.pf_btn_url %}
								<a href="{{ b.pf_btn_url }}" class="btn">
									<span class="btn__bg"></span>
									<span class="btn__border"></span>
									<span class="btn__label">
										{{ b.pf_btn_text }}
									</span>
								</a>
								{% endif %}
								<button type="button" class="phone-only js-carousel-next btn-link pf__btn-carousel pf__btn-carousel--next">
									<span class="sr-only">Next</span>
									<i class="icon icon--arrow-right"></i>
								</button>
							</div>

						</div>
					</div>
					<div class="pf__carousel-actions">
						<button type="button" class="hide-phone js-carousel-prev btn-link pf__btn-carousel pf__btn-carousel--prev">
							<span class="sr-only">Previous</span>
							<i class="icon icon--arrow-left"></i>
						</button>
						<button type="button" class="hide-phone js-carousel-next btn-link pf__btn-carousel pf__btn-carousel--next">
							<span class="sr-only">Next</span>
							<i class="icon icon--arrow-right"></i>
						</button>
					</div>
				</div>
			</div>
		{% endfor %}
	</div>
{% endif %}

{% schema %}
{
	"name": "Product Featurettes",
	"class": "home-pf",
	"settings": [
		{
			"type": "color",
			"id": "pf_bg_color",
			"label": "Background Color of First Slide",
			"default": "#92dff9"
		}
	],
 	"blocks": [
		{
			"type": "product_featurette",
			"name": "Product",
			"settings": [
				{
					"type": "image_picker",
					"id": "pf_image_title",
					"label": "Title Image"
				},
				{
					"type": "image_picker",
					"id": "pf_image_content",
					"label": "Content Image Desktop"
				},
				{
					"type": "image_picker",
					"id": "pf_image_content_tablet",
					"label": "Content Image Tablet"
				},
				{
					"type": "image_picker",
					"id": "pf_image_content_phone",
					"label": "Content Image Phone"
				},
				{
					"type": "text",
					"id": "pf_subtitle",
					"label": "Subtitle"
				},
				{
					"type": "textarea",
					"id": "pf_desc",
					"label": "Description"
				},
				{
					"type": "text",
					"id": "pf_btn_text",
					"label": "Button Text"
				},
				{
					"type": "url",
					"id": "pf_btn_url",
					"label": "Button Link"
				}
			]
		}
	]
}
{% endschema %}